# Dropzone Data Collections

All instructions are relative to the folder in which this README.md is located.

## Initialize your environment

    $ [sudo] pip install virtualenv
    $ ./initialize.sh

Then do what the `initialize.sh` script tells you to!

## Crawl

    $ python crawl.py

Which then downloads into the `pages/` directory

## Parse Crawl Data

    $ python parse.py

Goes through the HTML files downloaded from the crawl and parses/sanitizes the data into the output file: `output/dropzones.json`

## JSON output file

The output file generated by the parser contains line-separated records of JSON objects. It should be read line-by-line, rather than as a whole (since it's not exactly valid JSON).

## Parse To Get Yahoo WOEIDs

    $ python parse_woeids.py

Goes through the JSON file generated above from parse.py and looks up Yahoo Weather Where on Earth ID (WOEID) numbers using city and zip code. The data into the output file: `output/alldz_info.json`

## JSON output file

The output file generated by the parser contains line-separated records of JSON objects for just the name, weather station, and WOEID. To make it valid, add a square bracket "\[" at the begining and "\]" the end and replace "}\n{" with "},\n{".

## Parse To Get Real METAR

    $ python parse_realmetar.py

Goes through the JSON file generated above from the previous parse and looks up the real 4 letter METAR code using flightaware. The data into the output file: `output/alldz_info_fixed.json`

## JSON output file for web use

As before, to make it valid, add a square bracket "\[" at the begining and "\]" the end and replace "}\n{" with "},\n{".
